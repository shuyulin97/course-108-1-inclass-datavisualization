---
title: "Untitled"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
```

#前置準備
```{r}
library(dplyr); library(stringr); library(ggplot2); library(plotly); library(lubridate); library(readr); library(colorspace); library(grDevices); library(shiny); library(shinyjs); library(scales)
library(tidyr); library(showtext); library(tidyverse); library(colorspace)
library(sf)
#font_add("QYuan","cwTeXQYuan-Medium.ttf") # 新增字體
showtext_auto(enable=TRUE) #啟用字體
theme_set(theme_classic())
knitr::opts_chunk$set(fig.align='center', fig.showtext=T)
```

```{r}
install.packages(c("rvest","XML","xml2"))
```

#取得經濟學人文章資料
```{r}
library(dplyr); library(rvest); library(stringr)
source("https://www.dropbox.com/s/4tubw8e5h3cem6w/theEconomist.R?dl=1", encoding = "utf-8")

"https://www.economist.com/the-world-this-week/2019/11/21/politics-this-week" %>%
  get_theWorldThisWeek() -> df_politics


```

#取得世界地圖資料
```{r}
data(world,package="spData")
```

#繪製查看世界地圖
```{r}
world %>%
  ggplot()+geom_sf(aes(fill = type))
```

#創造文章資料dataframe:國家-事件類別
```{r}
econ_politics_df <- data.frame(
  country = c('Sri Lanka', 'China','Republic of Korea', '	Afghanistan', 'Iran', 'Israeli'),
  event = c('動亂', '抗爭', '國際', '戰爭', '抗爭', ''),
  light = c('紅燈', '紅燈', '黃燈', '黃燈', '紅燈', '')
)
```




#left_join加入world資料


Column {data-width=650}
-----------------------------------------------------------------------

### Chart A

```{r}

```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Chart C

```{r}

```

